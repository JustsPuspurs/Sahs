import{r as a,a as T,j as e}from"./app-YL_io8De.js";const E=({isOpen:n,onClose:u})=>{const[l,j]=a.useState([]),[m,o]=a.useState(!0),[c,f]=a.useState(null),[t,i]=a.useState(1),d=5,g=s=>{if(s==null)return"N/A";const r=Math.floor(s/1e3),C=Math.floor(r/60),L=r%60;return`${C} min ${L} sec`};if(a.useEffect(()=>{n&&(o(!0),T.get("/game-history").then(s=>{j(s.data),o(!1),i(1)}).catch(s=>{f("Error fetching game history."),o(!1)}))},[n]),!n)return null;const v=l.filter(s=>s.result.toLowerCase().includes("win")).length,b=l.filter(s=>s.result.toLowerCase().includes("lose")).length,N=l.filter(s=>s.result.toLowerCase().includes("draw")).length,h=Math.ceil(l.length/d),x=t*d,p=x-d,P=l.slice(p,x),w=()=>{t<h&&i(s=>s+1)},y=()=>{t>1&&i(s=>s-1)};return e.jsx("div",{className:"modal",children:e.jsxs("div",{className:"modal-content data-popup-content",children:[e.jsx("div",{className:"close-button-container",children:e.jsx("button",{onClick:u,className:"close-button",children:"Ã—"})}),e.jsx("h2",{children:"Game History"}),e.jsxs("div",{className:"summary-stats",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Total Wins:"})," ",v]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Total Losses:"})," ",b]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Total Draws:"})," ",N]})]}),m&&e.jsx("p",{children:"Loading..."}),c&&e.jsx("p",{children:c}),!m&&!c&&e.jsxs("div",{className:"scrollable-table",children:[e.jsxs("table",{className:"move-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"move-table-header",children:"Side"}),e.jsx("th",{className:"move-table-header",children:"Result"}),e.jsx("th",{className:"move-table-header",children:"Time"}),e.jsx("th",{className:"move-table-header",children:"Moves"})]})}),e.jsx("tbody",{children:P.map((s,r)=>e.jsxs("tr",{children:[e.jsx("td",{className:"move-table-cell",children:s.side}),e.jsx("td",{className:"move-table-cell",children:s.result}),e.jsx("td",{className:"move-table-cell",children:g(s.time)}),e.jsx("td",{className:"move-table-cell moves-cell",children:s.moves})]},r))})]}),e.jsxs("div",{className:"pagination",children:[e.jsx("button",{onClick:y,disabled:t===1,children:"Prev"}),e.jsxs("span",{children:[t," of ",h]}),e.jsx("button",{onClick:w,disabled:t===h,children:"Next"})]})]})]})})};export{E as default};
