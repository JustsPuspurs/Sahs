import{r as n,j as e,a as f}from"./app-DFjWCmx6.js";const S=({isOpen:u,onClose:i,computedTime:o})=>{const[a,x]=n.useState(""),[c,j]=n.useState("White"),[d,v]=n.useState("Win"),p=s=>{s.preventDefault();const r={moves:a,time:o,side:c,result:d};f.post("/game/result",r).then(l=>{console.log(l.data.message),i()}).catch(l=>{console.error("Error saving game result:",l)})},b=()=>{const s=a.split(" ").filter(t=>t.trim()!==""),r=7,l=[];for(let t=0;t<s.length;t+=r)l.push(s.slice(t,t+r));return e.jsx("table",{className:"moves-preview-table",style:{width:"100%",borderCollapse:"collapse",marginTop:"10px"},children:e.jsx("tbody",{children:l.map((t,h)=>e.jsx("tr",{children:t.map((g,m)=>e.jsxs("td",{style:{border:"1px solid #ccc",padding:"4px",textAlign:"center"},children:[h*r+m+1,". ",g]},m))},h))})})};return u?e.jsx("div",{className:"modal",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("div",{className:"close-button-container",children:e.jsx("button",{className:"close-button",onClick:i,children:"Ã—"})}),e.jsx("h2",{children:"Record Game"}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"moves",children:"Moves:"}),e.jsx("input",{id:"moves",type:"text",value:a,onChange:s=>x(s.target.value),placeholder:"e.g. e4 e5 Nf3 Nc6 ..."}),a.trim()!==""&&b()]}),e.jsxs("div",{children:[e.jsx("label",{children:"Time:"}),e.jsxs("p",{children:[o," ms"]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"side",children:"Side:"}),e.jsxs("select",{id:"side",value:c,onChange:s=>j(s.target.value),children:[e.jsx("option",{value:"White",children:"White"}),e.jsx("option",{value:"Black",children:"Black"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"result",children:"Result:"}),e.jsxs("select",{id:"result",value:d,onChange:s=>v(s.target.value),children:[e.jsx("option",{value:"Win",children:"Win"}),e.jsx("option",{value:"Lose",children:"Lose"}),e.jsx("option",{value:"Draw",children:"Draw"})]})]}),e.jsx("button",{type:"submit",className:"record-game-button",children:"Save Game"})]})]})}):null};export{S as default};
