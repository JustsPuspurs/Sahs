import{r as b,j as s,a as p}from"./app-CgMf1yZB.js";import{B as I,a as M,b as O,c as T,d as $,e as K}from"./BlueKing-CIG-ECJL.js";const N={"images/blue_pawn.png":K,"images/blue_rook.png":$,"images/blue_knight.png":T,"images/blue_bishop.png":O,"images/blue_queen.png":M,"images/blue_king.png":I},F=({isOpen:f,onClose:k,skins:u=[],walletCoins:v=0,ownedSkins:S=[],onPurchase:m,onEquip:l})=>{if(!f)return null;const[g,o]=b.useState(""),[c,h]=b.useState(1),r=6,d=Math.ceil(u.length/r),x=c*r,B=x-r,C=u.slice(B,x),P=e=>S.find(t=>t.id===e),q=(e,t,a)=>{p.post(`/skins/${e}/purchase`).then(n=>{o(n.data.message),m&&m(t,a)}).catch(n=>{var i,j;o(((j=(i=n.response)==null?void 0:i.data)==null?void 0:j.message)||"Error purchasing skin.")})},_=(e,t)=>{p.post(`/skins/${e}/equip`).then(a=>{o(a.data.message),l&&l(t,!0)}).catch(a=>{var n,i;o(((i=(n=a.response)==null?void 0:n.data)==null?void 0:i.message)||"Error equipping skin.")})},w=(e,t)=>{p.post(`/skins/${e}/unequip`).then(a=>{o(a.data.message),l&&l(t,!1)}).catch(a=>{var n,i;o(((i=(n=a.response)==null?void 0:n.data)==null?void 0:i.message)||"Error unequipping skin.")})},y=()=>{c<d&&h(e=>e+1)},E=()=>{c>1&&h(e=>e-1)};return s.jsx("div",{className:"modal",children:s.jsxs("div",{className:"modal-content shop-modal-content",children:[s.jsx("div",{className:"close-button-container",children:s.jsx("button",{onClick:k,className:"close-button",children:"Ã—"})}),s.jsx("h2",{children:"Skin Shop"}),s.jsxs("p",{children:["Your Coins: ",v]}),g&&s.jsx("p",{children:g}),s.jsxs("div",{className:"scrollable-skins",children:[s.jsx("div",{className:"skin-list shop-skin-list",children:C.map(e=>{const t=P(e.id);return s.jsxs("div",{className:"skin-item",children:[e.image&&N[e.image]?s.jsx("img",{src:N[e.image],alt:e.name,className:"shop-skin-image"}):s.jsx("p",{children:"No Image"}),s.jsx("h3",{children:e.name}),s.jsxs("p",{children:["Type: ",e.piece_type]}),s.jsxs("p",{children:["Cost: ",e.cost," coins"]}),t?t.pivot&&t.pivot.equipped?s.jsx("button",{className:"custom-button-shop",onClick:()=>w(e.id,e),children:"Unequip"}):s.jsx("button",{className:"custom-button-shop",onClick:()=>_(e.id,e),children:"Equip"}):s.jsx("button",{className:"custom-button-shop",onClick:()=>q(e.id,e.cost,e),children:"Buy Skin"})]},e.id)})}),s.jsxs("div",{className:"pagination",children:[s.jsx("button",{onClick:E,disabled:c===1,children:"Prev"}),s.jsxs("span",{children:[c," of ",d]}),s.jsx("button",{onClick:y,disabled:c===d,children:"Next"})]})]})]})})};export{F as default};
